"use strict";(self["webpackChunkvue_toutiao"]=self["webpackChunkvue_toutiao"]||[]).push([[500],{9500:function(t,i,e){e.r(i),e.d(i,{default:function(){return N}});var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"xqlist"},[i("div",{staticClass:"msg_heard"},[i("div",{on:{click:t.back}},[i("van-icon",{attrs:{name:"arrow-left",color:"#fff"}})],1),t._m(0),i("div")]),i("div",{staticClass:"content_title"},[i("h2",[t._v(t._s(t.arr.title))])]),i("div",{staticClass:"content_author"},[i("div",{staticClass:"content_left"},[i("div",[i("van-image",{attrs:{round:"",width:"40px",height:"40px",src:t.arr.avatar}})],1),i("div",{staticClass:"content_time"},[i("p",[t._v("作者:"+t._s(t.arr.author))]),i("p",{staticClass:"time"},[t._v(t._s(new Date(t.arr.time).toLocaleDateString()))])])]),i("div",[i("van-button",{staticClass:"btn_color",attrs:{icon:"plus",round:"",type:"primary"},on:{click:t.isshow}},[t._v(t._s(t.show1?"关注":"已关注"))])],1)]),i("div",{staticClass:"neirong"},[i("p",[t._v(t._s(t.arr.content))]),t._l(t.arr.imageSrc,(function(e,n){return i("div",{key:n},[i("img",{attrs:{src:e,alt:"",srcset:""},on:{error:t.imgError}})])}))],2),t._l(t.pinglunlist,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"content_author1"},[i("div",{staticClass:"content_left"},[i("div",[i("van-image",{attrs:{round:"",width:"40px",height:"40px",src:e.info.avatar}})],1),i("div",{staticClass:"pinglun"},[i("van-cell",[i("div",{staticClass:"content_time",on:{click:function(i){return t.huifupinlun(e)}}},[i("p",[t._v("作者:"+t._s(e.info.nickname))]),i("h6",[t._v(t._s(e.content))]),i("div",{staticClass:"content_btn"},[i("p",{staticClass:"time"},[t._v(t._s(t.ontime(e.create_time)))]),i("button",{staticClass:"huifu",on:{click:function(i){return i.stopPropagation(),t.chakanhuifu(e)}}},[t._v(" "+t._s(e.reply_num)+"回复")])])])]),i("van-popup",{style:{height:"30%"},attrs:{closeable:"",position:"bottom"},model:{value:t.showshow,callback:function(i){t.showshow=i},expression:"showshow"}},[t._v(" 回复评论的评论 "),i("van-field",{staticClass:"text",attrs:{autosize:"",autofocus:"",type:"textarea",maxlength:"1500",placeholder:"请输入评论","show-word-limit":""},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}}),i("div",{staticClass:"baocun"},[i("van-button",{attrs:{type:"primary",block:""},on:{click:t.gethuifupinglun}},[t._v("评论")])],1)],1)],1)]),i("div",[e.is_like?i("van-icon",{attrs:{name:"good-job",size:"20",color:"red"},on:{click:function(i){return t.qxhuifudianzan(e)}}}):i("van-icon",{attrs:{name:"good-job",size:"20"},on:{click:function(i){return t.huifudianzan(e)}}}),i("span",[t._v(t._s(e.like_count))])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e._id===t.clickid,expression:"item._id===clickid"}]},t._l(t.huifulist,(function(e,n){return i("div",{key:n,staticClass:"content_author2"},[i("div",{staticClass:"content_left"},[i("div",[i("van-image",{attrs:{round:"",width:"40px",height:"40px",src:e.info.avatar}})],1),i("div",{staticClass:"content_time"},[i("p",[t._v("作者:"+t._s(e.info.nickname))]),i("h6",[t._v(t._s(e.content))]),i("div",{staticClass:"content_btn"},[i("p",{staticClass:"time"},[t._v(t._s(t.ontime(e.create_time)))])])])])])})),0)])})),i("div",{staticClass:"xq_footer"},[i("div",{staticClass:"pinglun"},[i("van-cell",[i("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:t.showPopup}},[t._v("写评论")])],1),i("van-popup",{style:{height:"40%"},attrs:{closeable:"",position:"bottom"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[t._v(" 评论 "),i("van-field",{staticClass:"text",attrs:{autosize:"",autofocus:"",type:"textarea",maxlength:"1500",placeholder:"请输入评论","show-word-limit":""},model:{value:t.message,callback:function(i){t.message=i},expression:"message"}}),i("div",{staticClass:"baocun"},[i("van-button",{attrs:{type:"primary",block:""},on:{click:t.getFabupinglun}},[t._v("发布")])],1)],1)],1),i("van-icon",{attrs:{name:"comment-o",size:"20"}}),i("div",[t.arr.is_fav?i("van-icon",{attrs:{name:"star",size:"20",color:"red"},on:{click:t.qxshoucang}}):i("van-icon",{attrs:{name:"star",size:"20"},on:{click:t.shoucang}})],1),i("div",[t.arr.is_like?i("van-icon",{attrs:{name:"good-job",size:"20",color:"red"},on:{click:t.qxdianzhan}}):i("van-icon",{attrs:{name:"good-job",size:"20"},on:{click:t.dianzhan}})],1),i("van-icon",{attrs:{name:"share",size:"20"}})],1),i("div")],2)},a=[function(){var t=this,i=t._self._c;return i("div",[i("p",{staticClass:"p"},[t._v("列表详情")])])}],s=(e(1958),e(3332),e(6742),e(3094),e(9299)),o=e(855),r=e(7799),l=e(2115),c=e(6631),d=e(5363),u=(0,o.d)("collapse-item"),h=u[0],p=u[1],m=["title","icon","right-icon"],f=h({mixins:[(0,l.j)("vanCollapse")],props:(0,s.Z)({},d.T,{name:[Number,String],disabled:Boolean,lazyRender:{type:Boolean,default:!0},isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{currentName:function(){var t;return null!=(t=this.name)?t:this.index},expanded:function(){var t=this;if(!this.parent)return null;var i=this.parent,e=i.value,n=i.accordion;return n?e===this.currentName:e.some((function(i){return i===t.currentName}))}},created:function(){this.show=this.expanded,this.inited=this.expanded},watch:{expanded:function(t,i){var e=this;if(null!==i){t&&(this.show=!0,this.inited=!0);var n=t?this.$nextTick:r.Wn;n((function(){var i=e.$refs,n=i.content,a=i.wrapper;if(n&&a){var s=n.offsetHeight;if(s){var o=s+"px";a.style.height=t?0:o,(0,r.d1)((function(){a.style.height=t?o:0}))}else e.onTransitionEnd()}}))}}},methods:{onClick:function(){this.disabled||this.toggle()},toggle:function(t){void 0===t&&(t=!this.expanded);var i=this.parent,e=this.currentName,n=i.accordion&&e===i.value,a=n?"":e;this.parent.switch(a,t)},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height="":this.show=!1},genTitle:function(){var t=this,i=this.$createElement,e=this.border,n=this.disabled,a=this.expanded,o=m.reduce((function(i,e){return t.slots(e)&&(i[e]=function(){return t.slots(e)}),i}),{});return this.slots("value")&&(o.default=function(){return t.slots("value")}),i(c.Z,{attrs:{role:"button",tabindex:n?-1:0,"aria-expanded":String(a)},class:p("title",{disabled:n,expanded:a,borderless:!e}),on:{click:this.onClick},scopedSlots:o,props:(0,s.Z)({},this.$props)})},genContent:function(){var t=this.$createElement;if(this.inited||!this.lazyRender)return t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:p("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:p("content")},[this.slots()])])}},render:function(){var t=arguments[0];return t("div",{class:[p({border:this.index&&this.border})]},[this.genTitle(),this.genContent()])}}),g=e(1047),v=(0,o.d)("collapse"),b=v[0],_=v[1],y=b({mixins:[(0,l.G)("vanCollapse")],props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},methods:{switch:function(t,i){this.accordion||(t=i?this.value.concat(t):this.value.filter((function(i){return i!==t}))),this.$emit("change",t),this.$emit("input",t)}},render:function(){var t,i=arguments[0];return i("div",{class:[_(),(t={},t[g.r5]=this.border,t)]},[this.slots()])}}),k=(e(8146),e(8848)),w=(e(7505),e(7061)),C=(e(836),e(6811)),x=(e(4408),e(4639)),Z=(e(606),e(4398)),$=(e(5825),e(9858)),S=(e(2443),e(9864)),z=(e(7322),e(70)),L={name:"listcontent",data(){return{arr:[],show1:!0,show:!1,value:"",message:"",pinglunlist:[],clickid:"",huifulist:[],showshow:!1,huifuid:""}},components:{[c.Z.name]:c.Z,[S.Z.name]:S.Z,[$.Z.name]:$.Z,[Z.Z.name]:Z.Z,[x.Z.name]:x.Z,[C.Z.name]:C.Z,[w.Z.name]:w.Z,[k.Z.name]:k.Z,[y.name]:y,[f.name]:f},methods:{back(){this.$router.go(-1)},isshow(){this.show1=!this.show1},chakanhuifu(t){this.clickid=t._id,0===t.reply_num?this.clickid="":(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/get_reply_list",data:{skip:0,limit:10,user_id:localStorage.getItem("uid"),reply_comment_id:t._id,article_id:this.$route.params.id}}).then((t=>{this.huifulist=t.data.data}))},showPopup(){this.show=!0},getFabupinglun(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/add_comment",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id,content:this.message,reply_comment_id:"",comment_type:0}}).then((t=>{this.show=!1,(0,k.Z)(t.data.mag),this.message="",this.pinglunliebiao()}))},huifupinlun(t){this.huifuid=t._id,this.showshow=!0},gethuifupinglun(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/add_comment",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id,content:this.message,reply_comment_id:this.huifuid,comment_type:1}}).then((t=>{this.showshow=!1,this.message="",this.pinglunliebiao()}))},pinglun(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/get_article_detail",data:{article_id:this.$route.params.id,user_id:localStorage.getItem("uid")}}).then((t=>{this.arr=t.data.data}))},pinglunliebiao(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/get_comment_list",data:{article_id:this.$route.params.id,user_id:localStorage.getItem("uid"),skip:0,limit:10}}).then((t=>{this.pinglunlist=t.data.data,console.log("评论",t),console.log("评论",this.pinglunlist)}))},dianzhan(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/like",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id}}).then((t=>{this.pinglun()}))},qxdianzhan(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/unlike",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id}}).then((t=>{this.pinglun()}))},huifudianzan(t){console.log(t._id),(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/comment_like",data:{user_id:localStorage.getItem("uid"),comment_id:t._id}}).then((t=>{this.pinglunliebiao()}))},qxhuifudianzan(t){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/comment_unlike",data:{user_id:localStorage.getItem("uid"),comment_id:t._id}}).then((t=>{this.pinglunliebiao()}))},shoucang(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/add_fav",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id}}).then((t=>{this.pinglun()}))},qxshoucang(){(0,z.ZP)({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/api/remove_fav",data:{user_id:localStorage.getItem("uid"),article_id:this.$route.params.id}}).then((t=>{this.pinglun()}))}},created(){this.pinglun(),this.pinglunliebiao()}},P=L,E=e(1001),I=(0,E.Z)(P,n,a,!1,null,"22c9ccc4",null),N=I.exports},7179:function(){},9864:function(t,i,e){var n=e(3915),a=e.n(n),s=e(855),o=e(4771),r=e(1047),l=(0,s.d)("cell-group"),c=l[0],d=l[1];function u(t,i,e,n){var s,l=t("div",a()([{class:[d({inset:i.inset}),(s={},s[r.r5]=i.border,s)]},(0,o.ED)(n,!0)]),[null==e.default?void 0:e.default()]);return i.title||e.title?t("div",{key:n.data.key},[t("div",{class:d("title",{inset:i.inset})},[e.title?e.title():i.title]),l]):l}u.props={title:String,inset:Boolean,border:{type:Boolean,default:!0}},i["Z"]=c(u)},2443:function(t,i,e){e(1958)},4639:function(t,i,e){var n=e(3915),a=e.n(n),s=e(855),o=e(3370),r=e(408),l=e(9858),c=(0,s.d)("image"),d=c[0],u=c[1];i["Z"]=d({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconPrefix:String,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return(0,o.Xq)(this.width)&&(t.width=(0,r.N)(this.width)),(0,o.Xq)(this.height)&&(t.height=(0,r.N)(this.height)),(0,o.Xq)(this.radius)&&(t.overflow="hidden",t.borderRadius=(0,r.N)(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&o._f&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var i=t.el;i===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var i=t.el;i!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading?t("div",{class:u("loading")},[this.slots("loading")||t(l.Z,{attrs:{name:this.loadingIcon,classPrefix:this.iconPrefix},class:u("loading-icon")})]):this.error&&this.showError?t("div",{class:u("error")},[this.slots("error")||t(l.Z,{attrs:{name:this.errorIcon,classPrefix:this.iconPrefix},class:u("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,i={class:u("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",a()([{ref:"image",directives:[{name:"lazy",value:this.src}]},i])):t("img",a()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},i]))}},render:function(){var t=arguments[0];return t("div",{class:u({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}})},4408:function(t,i,e){e(1958),e(3332),e(6742),e(7179)},836:function(t,i,e){e(1958),e(6196),e(3332),e(6742),e(2666)},8848:function(t,i,e){e.d(i,{Z:function(){return z}});e(7658);var n=e(9299),a=e(6369),s=e(855),o=e(3370),r=0;function l(t){t?(r||document.body.classList.add("van-toast--unclickable"),r++):(r--,r||document.body.classList.remove("van-toast--unclickable"))}var c=e(7846),d=e(9858),u=e(4958),h=(0,s.d)("toast"),p=h[0],m=h[1],f=p({mixins:[(0,c.e)()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;this.clickable!==t&&(this.clickable=t,l(t))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var t=this.$createElement,i=this.icon,e=this.type,n=this.iconPrefix,a=this.loadingType,s=i||"success"===e||"fail"===e;return s?t(d.Z,{class:m("icon"),attrs:{classPrefix:n,name:i||e}}):"loading"===e?t(u.Z,{class:m("loading"),attrs:{type:a}}):void 0},genMessage:function(){var t=this.$createElement,i=this.type,e=this.message;if((0,o.Xq)(e)&&""!==e)return"html"===i?t("div",{class:m("text"),domProps:{innerHTML:e}}):t("div",{class:m("text")},[e])}},render:function(){var t,i=arguments[0];return i("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[i("div",{directives:[{name:"show",value:this.value}],class:[m([this.position,(t={},t[this.type]=!this.icon,t)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),g=e(1015),v={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},b={},_=[],y=!1,k=(0,n.Z)({},v);function w(t){return(0,o.Kn)(t)?t:{message:t}}function C(t){return document.body.contains(t)}function x(){if(o.sk)return{};if(_=_.filter((function(t){return!t.$el.parentNode||C(t.$el)})),!_.length||y){var t=new(a.ZP.extend(f))({el:document.createElement("div")});t.$on("input",(function(i){t.value=i})),_.push(t)}return _[_.length-1]}function Z(t){return(0,n.Z)({},t,{overlay:t.mask||t.overlay,mask:void 0,duration:void 0})}function $(t){void 0===t&&(t={});var i=x();return i.value&&i.updateZIndex(),t=w(t),t=(0,n.Z)({},k,b[t.type||k.type],t),t.clear=function(){i.value=!1,t.onClose&&(t.onClose(),t.onClose=null),y&&!o.sk&&i.$on("closed",(function(){clearTimeout(i.timer),_=_.filter((function(t){return t!==i})),(0,g.Z)(i.$el),i.$destroy()}))},(0,n.Z)(i,Z(t)),clearTimeout(i.timer),t.duration>0&&(i.timer=setTimeout((function(){i.clear()}),t.duration)),i}var S=function(t){return function(i){return $((0,n.Z)({type:t},w(i)))}};["loading","success","fail"].forEach((function(t){$[t]=S(t)})),$.clear=function(t){_.length&&(t?(_.forEach((function(t){t.clear()})),_=[]):y?_.shift().clear():_[0].clear())},$.setDefaultOptions=function(t,i){"string"===typeof t?b[t]=i:(0,n.Z)(k,t)},$.resetDefaultOptions=function(t){"string"===typeof t?b[t]=null:(k=(0,n.Z)({},v),b={})},$.allowMultiple=function(t){void 0===t&&(t=!0),y=t},$.install=function(){a.ZP.use(f)},a.ZP.prototype.$toast=$;var z=$},8146:function(t,i,e){e(1958),e(6196),e(3332),e(6742),e(2666),e(2939)}}]);
//# sourceMappingURL=500.2fab4080.js.map