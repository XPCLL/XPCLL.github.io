"use strict";(self["webpackChunkvue_toutiao"]=self["webpackChunkvue_toutiao"]||[]).push([[183],{4183:function(t,n,e){e.r(n),e.d(n,{default:function(){return v}});var i=function(){var t=this,n=t._self._c;return n("div",{staticClass:"box"},[t.isLogin?n("div",{staticClass:"my_header"},[n("div",{staticClass:"my_header_top"},[n("div",{staticClass:"my_header_img"},[n("van-image",{attrs:{round:"",width:"70px",height:"70px",src:t.userval.avatar}}),n("span",[t._v(t._s(t.userval.nickname))])],1),n("div",[n("van-button",{staticClass:"btn",attrs:{round:"",type:"info"},on:{click:function(n){return t.bianji(t.userval)}}},[t._v("编辑资料")])],1)]),n("div",{staticClass:"my_header_bottom"},[n("div",{staticClass:"border",on:{click:t.userfabu}},[n("p",[t._v(t._s(t.usermsg.publish_num))]),n("p",[t._v("发布")])]),n("div",[n("p",[t._v(t._s(t.usermsg.liked_num))]),n("p",[t._v("获赞")])])])]):n("div",[n("div",{staticClass:"beijin"},[n("h3",[t._v("登录后你能看的更多")]),n("van-button",{staticClass:"btn",attrs:{type:"default",to:"/login"}},[t._v("登录")])],1)]),n("div",{staticClass:"my_content"},[n("div",{staticClass:"liulanlishi",on:{click:t.shoucang}},[n("van-icon",{attrs:{name:"star-o",size:"30",color:"#f00"}}),n("p",[t._v("收藏历史")])],1),n("div",{staticClass:"liulanlishi"},[n("van-icon",{attrs:{name:"underway-o",size:"30",color:"rgb(236, 110, 19)"}}),n("p",[t._v("浏览历史")])],1)]),n("div",{staticClass:"my_content_neirong"},[n("div",{on:{click:t.updatemima}},[n("van-cell",{staticClass:"border",attrs:{title:"修改密码","is-link":""}})],1),n("van-cell",{staticClass:"border",attrs:{title:"联系我们","is-link":""}}),n("van-cell",{staticClass:"border",attrs:{title:"关于我们","is-link":""}})],1),n("van-button",{staticClass:"btn_footer",attrs:{type:"default",block:""},on:{click:t.backLogin}},[t._v("退出登录")])],1)},o=[],s=(e(4889),e(5705)),a=(e(8146),e(8848)),r=(e(2443),e(9864)),l=(e(7322),e(6631)),c=(e(3089),e(4398)),u=(e(4408),e(4639)),h=(e(5825),e(9858)),d=(e(7658),{name:"my",components:{[h.Z.name]:h.Z,[u.Z.name]:u.Z,[c.Z.name]:c.Z,[l.Z.name]:l.Z,[r.Z.name]:r.Z,[a.Z.name]:a.Z,[s.Z.name]:s.Z},data(){return{isLogin:!1,token:"",uid:"",usermsg:"",userval:"",tokenExpired:""}},methods:{login(){if(this.token=localStorage.getItem("token"),this.uid=localStorage.getItem("uid"),this.tokenExpired=localStorage.getItem("tokenExpired"),this.token&&this.uid){let t=+new Date;t>=this.tokenExpired?(0,a.Z)("你的账户长时间没登陆，请重新登录"):this.isLogin=!0}},backLogin(){s.Z.confirm({title:"确认退出吗"}).then((()=>{localStorage.removeItem("token"),localStorage.removeItem("uid"),localStorage.removeItem("tokenExpired"),localStorage.removeItem("userInfo"),this.isLogin=!1})).catch((()=>{}))},usermsgInfo(){this.$axios({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/user/getuserInfo",data:{token:this.token}}).then((t=>{this.usermsg=t.data,this.userval=t.data.userInfo,console.log("user",this.usermsg)}))},bianji(t){this.$router.push({name:"mymsg",params:{userval:t}})},userfabu(){this.$router.push("/mypublic")},updatemima(){if(this.token&&this.uid){let t=+new Date;t>=this.tokenExpired?(0,a.Z)("你的账户长时间没登陆，请重新登录"):this.$router.push({name:"mychangemima"})}else(0,a.Z)("你的账户还没登陆，请登录")},shoucang(){if(this.token&&this.uid){let t=+new Date;t>=this.tokenExpired?(0,a.Z)("你的账户长时间没登陆，请重新登录"):this.$router.push({name:"myshoucang"})}else(0,a.Z)("你的账户还没登陆，请登录")}},created(){this.login(),this.usermsgInfo()},activated(){}}),f=d,m=e(1001),g=(0,m.Z)(f,i,o,!1,null,"023be7d9",null),v=g.exports},7179:function(){},9864:function(t,n,e){var i=e(3915),o=e.n(i),s=e(855),a=e(4771),r=e(1047),l=(0,s.d)("cell-group"),c=l[0],u=l[1];function h(t,n,e,i){var s,l=t("div",o()([{class:[u({inset:n.inset}),(s={},s[r.r5]=n.border,s)]},(0,a.ED)(i,!0)]),[null==e.default?void 0:e.default()]);return n.title||e.title?t("div",{key:i.data.key},[t("div",{class:u("title",{inset:n.inset})},[e.title?e.title():n.title]),l]):l}h.props={title:String,inset:Boolean,border:{type:Boolean,default:!0}},n["Z"]=c(h)},2443:function(t,n,e){e(1958)},5705:function(t,n,e){e.d(n,{Z:function(){return z}});var i,o=e(9299),s=e(6369),a=e(3915),r=e.n(a),l=e(855),c=e(3370),u=e(408),h=e(1047),d=e(7846),f=e(4398),m=e(2115),g=(0,l.d)("goods-action"),v=g[0],p=g[1],y=v({mixins:[(0,m.G)("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:p({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),k=e(2250),C=(0,l.d)("goods-action-button"),b=C[0],B=C[1],w=b({mixins:[(0,m.j)("vanGoodsAction")],props:(0,o.Z)({},k.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),(0,k.BC)(this.$router,this)}},render:function(){var t=arguments[0];return t(f.Z,{class:B([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),x=(0,l.d)("dialog"),Z=x[0],$=x[1],S=x[2],_=Z({mixins:[(0,d.e)()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var n=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(e){!1!==e&&n.loading[t]&&n.onClose(t),n.loading.confirm=!1,n.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){var t=this;this.$emit("opened"),this.$nextTick((function(){var n;null==(n=t.$refs.dialog)||n.focus()}))},onClosed:function(){this.$emit("closed")},onKeydown:function(t){var n=this;if("Escape"===t.key||"Enter"===t.key){if(t.target!==this.$refs.dialog)return;var e={Enter:this.showConfirmButton?function(){return n.handleAction("confirm")}:c.ZT,Escape:this.showCancelButton?function(){return n.handleAction("cancel")}:c.ZT};e[t.key](),this.$emit("keydown",t)}},genRoundButtons:function(){var t=this,n=this.$createElement;return n(y,{class:$("footer")},[this.showCancelButton&&n(w,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||S("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:$("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&n(w,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||S("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:$("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,n=this,e=this.$createElement,i=this.showCancelButton&&this.showConfirmButton;return e("div",{class:[h.k7,$("footer")]},[this.showCancelButton&&e(f.Z,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||S("cancel"),nativeType:"button"},class:$("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){n.handleAction("cancel")}}}),this.showConfirmButton&&e(f.Z,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||S("confirm"),nativeType:"button"},class:[$("confirm"),(t={},t[h.a8]=i,t)],style:{color:this.confirmButtonColor},on:{click:function(){n.handleAction("confirm")}}})])},genContent:function(t,n){var e=this.$createElement;if(n)return e("div",{class:$("content")},[n]);var i=this.message,o=this.messageAlign;if(i){var s,a,l={class:$("message",(s={"has-title":t},s[o]=o,s)),domProps:(a={},a[this.allowHtml?"innerHTML":"textContent"]=i,a)};return e("div",{class:$("content",{isolated:!t})},[e("div",r()([{},l]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var n=this.message,e=this.slots(),i=this.slots("title")||this.title,o=i&&t("div",{class:$("header",{isolated:!n&&!e})},[i]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||n,tabIndex:0},class:[$([this.theme]),this.className],style:{width:(0,u.N)(this.width)},ref:"dialog",on:{keydown:this.onKeydown}},[o,this.genContent(i,e),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}});function L(t){return document.body.contains(t)}function E(){i&&i.$destroy(),i=new(s.ZP.extend(_))({el:document.createElement("div"),propsData:{lazyRender:!1}}),i.$on("input",(function(t){i.value=t}))}function I(t){return c.sk?Promise.resolve():new Promise((function(n,e){i&&L(i.$el)||E(),(0,o.Z)(i,I.currentOptions,t,{resolve:n,reject:e})}))}I.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){i["confirm"===t?"resolve":"reject"](t)}},I.alert=I,I.confirm=function(t){return I((0,o.Z)({showCancelButton:!0},t))},I.close=function(){i&&(i.value=!1)},I.setDefaultOptions=function(t){(0,o.Z)(I.currentOptions,t)},I.resetDefaultOptions=function(){I.currentOptions=(0,o.Z)({},I.defaultOptions)},I.resetDefaultOptions(),I.install=function(){s.ZP.use(_)},I.Component=_,s.ZP.prototype.$dialog=I;var z=I},4889:function(t,n,e){e(1958),e(6196),e(3332),e(6742),e(2666),e(2939),e(1452)},4639:function(t,n,e){var i=e(3915),o=e.n(i),s=e(855),a=e(3370),r=e(408),l=e(9858),c=(0,s.d)("image"),u=c[0],h=c[1];n["Z"]=u({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconPrefix:String,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return(0,a.Xq)(this.width)&&(t.width=(0,r.N)(this.width)),(0,a.Xq)(this.height)&&(t.height=(0,r.N)(this.height)),(0,a.Xq)(this.radius)&&(t.overflow="hidden",t.borderRadius=(0,r.N)(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&a._f&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var n=t.el;n===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var n=t.el;n!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading?t("div",{class:h("loading")},[this.slots("loading")||t(l.Z,{attrs:{name:this.loadingIcon,classPrefix:this.iconPrefix},class:h("loading-icon")})]):this.error&&this.showError?t("div",{class:h("error")},[this.slots("error")||t(l.Z,{attrs:{name:this.errorIcon,classPrefix:this.iconPrefix},class:h("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,n={class:h("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",o()([{ref:"image",directives:[{name:"lazy",value:this.src}]},n])):t("img",o()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},n]))}},render:function(){var t=arguments[0];return t("div",{class:h({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}})},4408:function(t,n,e){e(1958),e(3332),e(6742),e(7179)}}]);
//# sourceMappingURL=183.ad653863.js.map