"use strict";(self["webpackChunkvue_toutiao"]=self["webpackChunkvue_toutiao"]||[]).push([[596],{3596:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"login_heard"},[e("div",[e("van-icon",{attrs:{name:"arrow-left",color:"#fff"},on:{click:t.go}})],1),t._m(0),e("div",[e("router-link",{attrs:{to:"/"}},[e("van-icon",{attrs:{name:"wap-home-o",color:"#fff"}})],1)],1)]),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{type:"tel",label:"手机号",placeholder:"手机号"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}}),e("van-field",{attrs:{type:"password",name:"password",colon:"",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[e("van-button",{attrs:{size:"small",type:"button"},on:{click:function(e){return t.getyzm()}}},[t._v("发送验证码")])]},proxy:!0}]),model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"rgb(16, 173, 81)"}},[t._v("保存")])],1)],1)],1)},o=[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"p"},[t._v(" 忘记密码 ")])])}],n=(s(9491),s(6450)),r=(s(7505),s(7061)),l=(s(1049),s(140)),i=(s(3089),s(4398)),u=(s(5825),s(9858)),d=(s(7658),{name:"login",data(){return{tel:"",password:"",sms:"",zhengyam:""}},components:{[u.Z.name]:u.Z,[i.Z.name]:i.Z,[l.Z.name]:l.Z,[r.Z.name]:r.Z,[n.Z.name]:n.Z},methods:{getyzm(){11===this.tel.length?this.$axios({method:"post",url:" https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/user/sendSms",data:{mobile:this.tel,type:"login"}}).then((t=>{this.zhengyam=t.data.data,0===t.data.code?(0,n.Z)({type:"success",duration:6e3,message:"验证码"+this.zhengyam}):(0,n.Z)({type:"danger",duration:3e3,message:t.data.msg})})):(0,n.Z)("请输入正确的手机号")},onSubmit(){console.log("submit",this.tel,this.password),0===this.sms.trim().length||this.$axios({method:"post",url:"https://d33a5037-6c63-4e92-8bb1-30018ab701ea.bspapp.com/http/user/forget",data:{username:this.tel,password:this.password,vercode:this.sms}}).then((t=>{0===t.data.code?((0,n.Z)({type:"success",duration:3e3,message:t.data.msg}),setTimeout((()=>{this.$router.push("/login")}),1e3)):(0,n.Z)({type:"danger",duration:3e3,message:t.data.msg})}))},go(){this.$router.go(-1)}}}),c=d,m=s(1001),p=(0,m.Z)(c,a,o,!1,null,"1d34774a",null),h=p.exports}}]);
//# sourceMappingURL=596.f8d8a921.js.map